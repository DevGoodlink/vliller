$station-card-height: 154px;
$favorites-button-margin: $fab-content-margin;

page-home {
    .header {
        .bar-button {
            opacity: 0.8;
        }

        .bar-button-menutoggle-md {
            margin: 0 0.2rem;
        }
    }

    .home-content {
        position: relative;
        height: 100%;

        map {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: $station-card-height;

            favorites-button,
            .favorites-button {
                position: absolute;
                right: $favorites-button-margin;
                bottom: $favorites-button-margin;
            }

            // TMP DIRTY
            .favorites-button {
                ion-fab {
                    display: block;
                    position: relative !important;
                    z-index: auto;

                    // TEMPORARY FIX
                    & > .fab .button-inner .img-responsive {
                        margin-right: -5px;
                    }

                    // Add label support on ion-fab
                    .fab {
                        contain: initial;

                        .fab-close-icon {
                            color: $mustard;
                            background-color: $light;
                        }
                    }

                    button {
                        box-shadow: 0 4px 10px #6b6b6b;
                    }

                    .button-inner {
                        overflow: visible;
                    }
                }
            }
        }

        station-card {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            height: $station-card-height;
            background: $white;
        }
    }
}

// iPhone X safe area
// @see http://stephenradford.me/removing-the-white-bars-in-safari-on-iphone-x/
.platform-ios11 {
    $safe-area-padding-bottom: calc(constant(safe-area-inset-bottom) / 3);
    $safe-area-station-card-height: calc(154px + #{$safe-area-padding-bottom});

    page-home {
        .home-content {
            map {
                bottom: $safe-area-station-card-height;
            }

            station-card {
                height: $safe-area-station-card-height;
                padding-bottom: $safe-area-padding-bottom;
            }
        }
    }
}